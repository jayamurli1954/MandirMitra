{"ast":null,"code":"var _jsxFileName = \"D:\\\\MandirSync\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Typography, Box, Grid, Paper, Card, CardContent, TextField, Button, MenuItem, Alert, CircularProgress, Chip, Divider, InputAdornment } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport DashboardIcon from '@mui/icons-material/Dashboard';\nimport AccountBalanceIcon from '@mui/icons-material/AccountBalance';\nimport PeopleIcon from '@mui/icons-material/People';\nimport EventIcon from '@mui/icons-material/Event';\nimport SaveIcon from '@mui/icons-material/Save';\nimport Layout from '../components/Layout';\nimport PanchangDisplay from '../components/PanchangDisplay';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [stats, setStats] = useState({\n    todayDonations: 0,\n    totalDevotees: 0,\n    sevaBookings: 0,\n    monthDonations: 0\n  });\n  const [panchangData, setPanchangData] = useState(null);\n  const [donationForm, setDonationForm] = useState({\n    devotee_name: '',\n    devotee_phone: '',\n    amount: '',\n    category: '',\n    payment_mode: 'Cash',\n    address: '',\n    // Street address\n    pincode: '',\n    city: '',\n    state: '',\n    country: 'India'\n  });\n  const [pincodeLoading, setPincodeLoading] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [saving, setSaving] = useState(false);\n  useEffect(() => {\n    fetchDashboardData();\n    fetchCategories();\n  }, []);\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      const today = new Date().toISOString().split('T')[0];\n      const [todayDonationsRes, allDonationsRes, devoteesRes, panchangSettingsRes, panchangDataRes] = await Promise.allSettled([api.get(`/api/v1/donations?date=${today}`), api.get('/api/v1/donations?limit=1000'),\n      // Get all donations to count devotees\n      api.get('/api/v1/devotees'), api.get('/api/v1/panchang/display-settings/'), api.get('/api/v1/panchang/today')]);\n\n      // Calculate today's donations\n      let todayDonations = 0;\n      if (todayDonationsRes.status === 'fulfilled' && todayDonationsRes.value.data) {\n        todayDonations = todayDonationsRes.value.data.reduce((sum, d) => sum + (d.amount || 0), 0);\n      }\n\n      // Count unique devotees from ALL donations (not just today)\n      let totalDevotees = 0;\n      if (allDonationsRes.status === 'fulfilled' && allDonationsRes.value.data) {\n        const uniqueDevotees = new Set();\n        allDonationsRes.value.data.forEach(d => {\n          if (d.devotee && d.devotee.phone) {\n            uniqueDevotees.add(d.devotee.phone);\n          } else if (d.devotee_phone) {\n            uniqueDevotees.add(d.devotee_phone);\n          }\n        });\n        totalDevotees = uniqueDevotees.size;\n      }\n      // Fallback: try to get from devotees API if available\n      if (totalDevotees === 0 && devoteesRes.status === 'fulfilled' && devoteesRes.value.data) {\n        totalDevotees = Array.isArray(devoteesRes.value.data) ? devoteesRes.value.data.length : 0;\n      }\n\n      // Fetch panchang settings and data\n      let panchangSettings = null;\n      let panchangData = null;\n      if (panchangSettingsRes.status === 'fulfilled' && panchangSettingsRes.value.data) {\n        panchangSettings = panchangSettingsRes.value.data;\n      }\n      if (panchangDataRes.status === 'fulfilled' && panchangDataRes.value.data) {\n        panchangData = panchangDataRes.value.data;\n      }\n\n      // Set panchang data (merge settings if available)\n      if (panchangData) {\n        setPanchangData({\n          ...panchangData,\n          ...(panchangSettings || {}) // Settings override for display preferences\n        });\n      } else if (panchangSettings) {\n        setPanchangData(panchangSettings);\n      }\n      setStats({\n        todayDonations,\n        totalDevotees,\n        sevaBookings: 0,\n        monthDonations: 0\n      });\n    } catch (err) {\n      console.error('Error fetching dashboard data:', err);\n      setStats({\n        todayDonations: 8500,\n        totalDevotees: 0,\n        sevaBookings: 0,\n        monthDonations: 0\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      setCategories(['General Donation', 'Annadanam', 'Construction Fund', 'Gold/Silver Donation', 'Corpus Fund']);\n    } catch (err) {\n      console.error('Error fetching categories:', err);\n    }\n  };\n  const handleDonationChange = (field, value) => {\n    setDonationForm({\n      ...donationForm,\n      [field]: value\n    });\n\n    // Auto-fill City and State when PIN code is entered (6 digits)\n    if (field === 'pincode' && value.length === 6) {\n      fetchPincodeDetails(value);\n    } else if (field === 'pincode' && value.length < 6) {\n      // Clear city and state if PIN code is incomplete\n      setDonationForm(prev => ({\n        ...prev,\n        city: '',\n        state: ''\n      }));\n    }\n  };\n  const fetchPincodeDetails = async pincode => {\n    if (!pincode || pincode.length !== 6) return;\n    try {\n      setPincodeLoading(true);\n      // Using Indian Postal PIN code API\n      const response = await fetch(`https://api.postalpincode.in/pincode/${pincode}`);\n      const data = await response.json();\n      if (data && data[0] && data[0].Status === 'Success' && data[0].PostOffice && data[0].PostOffice.length > 0) {\n        const postOffice = data[0].PostOffice[0];\n        setDonationForm(prev => ({\n          ...prev,\n          city: postOffice.District || postOffice.Name || '',\n          state: postOffice.State || ''\n        }));\n      }\n    } catch (err) {\n      console.error('Error fetching PIN code details:', err);\n      // Don't show error to user, just silently fail\n    } finally {\n      setPincodeLoading(false);\n    }\n  };\n  const handleDonationSubmit = async e => {\n    e.preventDefault();\n    setSaving(true);\n    setError('');\n    setSuccess('');\n    try {\n      const response = await api.post('/api/v1/donations/', {\n        devotee_name: donationForm.devotee_name,\n        devotee_phone: donationForm.devotee_phone,\n        amount: parseFloat(donationForm.amount),\n        category: donationForm.category,\n        payment_mode: donationForm.payment_mode,\n        address: donationForm.address || null,\n        pincode: donationForm.pincode || null,\n        city: donationForm.city || null,\n        state: donationForm.state || null,\n        country: donationForm.country || 'India'\n      });\n      setSuccess('Donation recorded successfully!');\n      setDonationForm({\n        devotee_name: '',\n        devotee_phone: '',\n        amount: '',\n        category: '',\n        payment_mode: 'Cash',\n        address: '',\n        pincode: '',\n        city: '',\n        state: '',\n        country: 'India'\n      });\n      fetchDashboardData();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (err) {\n      var _err$response, _err$response2, _err$response3, _err$response3$data;\n      console.error('Donation error:', err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 404) {\n        setError('API endpoint not found. Please ensure the backend server is running on http://localhost:8000');\n      } else if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 500) {\n        setError('Server error. Please check backend logs.');\n      } else if ((_err$response3 = err.response) !== null && _err$response3 !== void 0 && (_err$response3$data = _err$response3.data) !== null && _err$response3$data !== void 0 && _err$response3$data.detail) {\n        setError(err.response.data.detail);\n      } else if (err.message) {\n        setError(err.message);\n      } else {\n        setError('Error recording donation. Please try again.');\n      }\n    } finally {\n      setSaving(false);\n    }\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n  const formatTime = timeString => {\n    if (!timeString) return 'N/A';\n    const date = new Date(timeString);\n    return date.toLocaleTimeString('en-IN', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const paymentModes = ['Cash', 'Card', 'UPI', 'Cheque', 'Online'];\n  const statCards = [{\n    title: 'Today\\'s Donations',\n    value: formatCurrency(stats.todayDonations),\n    icon: /*#__PURE__*/_jsxDEV(AccountBalanceIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }, this),\n    color: '#4CAF50'\n  }, {\n    title: 'Total Devotees',\n    value: stats.totalDevotees.toLocaleString(),\n    icon: /*#__PURE__*/_jsxDEV(PeopleIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }, this),\n    color: '#2196F3'\n  }, {\n    title: 'Seva Bookings',\n    value: stats.sevaBookings.toString(),\n    icon: /*#__PURE__*/_jsxDEV(EventIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }, this),\n    color: '#FF9800'\n  }, {\n    title: 'This Month',\n    value: formatCurrency(stats.monthDonations),\n    icon: /*#__PURE__*/_jsxDEV(DashboardIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 13\n    }, this),\n    color: '#9C27B0'\n  }];\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          minHeight: '400px'\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      sx: {\n        mb: 4,\n        fontWeight: 'bold'\n      },\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      onClose: () => setError(''),\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      sx: {\n        mb: 3\n      },\n      onClose: () => setSuccess(''),\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: statCards.map((stat, index) => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            height: '100%',\n            boxShadow: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  color: stat.color,\n                  mr: 2,\n                  fontSize: 40\n                },\n                children: stat.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h4\",\n                  component: \"div\",\n                  sx: {\n                    fontWeight: 'bold'\n                  },\n                  children: stat.value\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  children: stat.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      sx: {\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3,\n            boxShadow: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            sx: {\n              fontWeight: 'bold',\n              mb: 3\n            },\n            children: \"Quick Donation Entry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleDonationSubmit,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Devotee Name\",\n                  value: donationForm.devotee_name,\n                  onChange: e => handleDonationChange('devotee_name', e.target.value),\n                  required: true,\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Phone Number\",\n                  value: donationForm.devotee_phone,\n                  onChange: e => handleDonationChange('devotee_phone', e.target.value),\n                  required: true,\n                  size: \"small\",\n                  inputProps: {\n                    maxLength: 10\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Amount (\\u20B9)\",\n                  type: \"number\",\n                  value: donationForm.amount,\n                  onChange: e => handleDonationChange('amount', e.target.value),\n                  required: true,\n                  size: \"small\",\n                  inputProps: {\n                    min: 1,\n                    step: 0.01\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Street Address (Optional)\",\n                  placeholder: \"House/Flat No., Building, Street, Area\",\n                  value: donationForm.address,\n                  onChange: e => handleDonationChange('address', e.target.value),\n                  size: \"small\",\n                  multiline: true,\n                  rows: 2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 4,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"PIN Code\",\n                  placeholder: \"6 digit PIN code\",\n                  value: donationForm.pincode,\n                  onChange: e => {\n                    const value = e.target.value.replace(/\\D/g, '').slice(0, 6);\n                    handleDonationChange('pincode', value);\n                  },\n                  size: \"small\",\n                  inputProps: {\n                    maxLength: 6\n                  },\n                  InputProps: {\n                    endAdornment: pincodeLoading && /*#__PURE__*/_jsxDEV(InputAdornment, {\n                      position: \"end\",\n                      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 406,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 25\n                    }, this)\n                  },\n                  helperText: donationForm.pincode.length === 6 ? \"City & State will auto-fill\" : \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 4,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"City\",\n                  placeholder: \"City\",\n                  value: donationForm.city,\n                  onChange: e => handleDonationChange('city', e.target.value),\n                  size: \"small\",\n                  disabled: pincodeLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 4,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"State\",\n                  placeholder: \"State\",\n                  value: donationForm.state,\n                  onChange: e => handleDonationChange('state', e.target.value),\n                  size: \"small\",\n                  disabled: pincodeLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Country\",\n                  placeholder: \"Country\",\n                  value: donationForm.country,\n                  onChange: e => handleDonationChange('country', e.target.value),\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  select: true,\n                  label: \"Category\",\n                  value: donationForm.category,\n                  onChange: e => handleDonationChange('category', e.target.value),\n                  required: true,\n                  size: \"small\",\n                  children: categories.map(cat => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: cat,\n                    children: cat\n                  }, cat, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 456,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  select: true,\n                  label: \"Payment Mode\",\n                  value: donationForm.payment_mode,\n                  onChange: e => handleDonationChange('payment_mode', e.target.value),\n                  required: true,\n                  size: \"small\",\n                  children: paymentModes.map(mode => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: mode,\n                    children: mode\n                  }, mode, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  variant: \"contained\",\n                  fullWidth: true,\n                  startIcon: saving ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 484,\n                    columnNumber: 41\n                  }, this) : /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 484,\n                    columnNumber: 74\n                  }, this),\n                  disabled: saving,\n                  size: \"large\",\n                  children: saving ? 'Saving...' : 'Record Donation'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(PanchangDisplay, {\n          data: panchangData,\n          settings: panchangData,\n          compact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          fullWidth: true,\n          size: \"small\",\n          sx: {\n            mt: 2\n          },\n          onClick: () => navigate('/panchang'),\n          children: \"View Full Panchang \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"Lahs5mvb3SFSD/3NQyc21F2DOqI=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Typography","Box","Grid","Paper","Card","CardContent","TextField","Button","MenuItem","Alert","CircularProgress","Chip","Divider","InputAdornment","useNavigate","DashboardIcon","AccountBalanceIcon","PeopleIcon","EventIcon","SaveIcon","Layout","PanchangDisplay","api","jsxDEV","_jsxDEV","Dashboard","_s","navigate","loading","setLoading","error","setError","success","setSuccess","stats","setStats","todayDonations","totalDevotees","sevaBookings","monthDonations","panchangData","setPanchangData","donationForm","setDonationForm","devotee_name","devotee_phone","amount","category","payment_mode","address","pincode","city","state","country","pincodeLoading","setPincodeLoading","categories","setCategories","saving","setSaving","fetchDashboardData","fetchCategories","today","Date","toISOString","split","todayDonationsRes","allDonationsRes","devoteesRes","panchangSettingsRes","panchangDataRes","Promise","allSettled","get","status","value","data","reduce","sum","d","uniqueDevotees","Set","forEach","devotee","phone","add","size","Array","isArray","length","panchangSettings","err","console","handleDonationChange","field","fetchPincodeDetails","prev","response","fetch","json","Status","PostOffice","postOffice","District","Name","State","handleDonationSubmit","e","preventDefault","post","parseFloat","setTimeout","_err$response","_err$response2","_err$response3","_err$response3$data","detail","message","formatCurrency","Intl","NumberFormat","style","currency","maximumFractionDigits","format","formatTime","timeString","date","toLocaleTimeString","hour","minute","paymentModes","statCards","title","icon","fileName","_jsxFileName","lineNumber","columnNumber","color","toLocaleString","toString","children","sx","display","justifyContent","alignItems","minHeight","variant","component","gutterBottom","mb","fontWeight","severity","onClose","container","spacing","map","stat","index","item","xs","sm","md","height","boxShadow","mr","fontSize","mt","p","onSubmit","fullWidth","label","onChange","target","required","inputProps","maxLength","type","min","step","placeholder","multiline","rows","replace","slice","InputProps","endAdornment","position","helperText","disabled","select","cat","mode","startIcon","settings","compact","onClick","_c","$RefreshReg$"],"sources":["D:/MandirSync/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Typography,\r\n  Box,\r\n  Grid,\r\n  Paper,\r\n  Card,\r\n  CardContent,\r\n  TextField,\r\n  Button,\r\n  MenuItem,\r\n  Alert,\r\n  CircularProgress,\r\n  Chip,\r\n  Divider,\r\n  InputAdornment,\r\n} from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport DashboardIcon from '@mui/icons-material/Dashboard';\r\nimport AccountBalanceIcon from '@mui/icons-material/AccountBalance';\r\nimport PeopleIcon from '@mui/icons-material/People';\r\nimport EventIcon from '@mui/icons-material/Event';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport Layout from '../components/Layout';\r\nimport PanchangDisplay from '../components/PanchangDisplay';\r\nimport api from '../services/api';\r\n\r\nfunction Dashboard() {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [stats, setStats] = useState({\r\n    todayDonations: 0,\r\n    totalDevotees: 0,\r\n    sevaBookings: 0,\r\n    monthDonations: 0,\r\n  });\r\n  const [panchangData, setPanchangData] = useState(null);\r\n  const [donationForm, setDonationForm] = useState({\r\n    devotee_name: '',\r\n    devotee_phone: '',\r\n    amount: '',\r\n    category: '',\r\n    payment_mode: 'Cash',\r\n    address: '',  // Street address\r\n    pincode: '',\r\n    city: '',\r\n    state: '',\r\n    country: 'India',\r\n  });\r\n  const [pincodeLoading, setPincodeLoading] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchDashboardData();\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const fetchDashboardData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const today = new Date().toISOString().split('T')[0];\r\n      const [todayDonationsRes, allDonationsRes, devoteesRes, panchangSettingsRes, panchangDataRes] = await Promise.allSettled([\r\n        api.get(`/api/v1/donations?date=${today}`),\r\n        api.get('/api/v1/donations?limit=1000'), // Get all donations to count devotees\r\n        api.get('/api/v1/devotees'),\r\n        api.get('/api/v1/panchang/display-settings/'),\r\n        api.get('/api/v1/panchang/today'),\r\n      ]);\r\n\r\n      // Calculate today's donations\r\n      let todayDonations = 0;\r\n      if (todayDonationsRes.status === 'fulfilled' && todayDonationsRes.value.data) {\r\n        todayDonations = todayDonationsRes.value.data.reduce((sum, d) => sum + (d.amount || 0), 0);\r\n      }\r\n\r\n      // Count unique devotees from ALL donations (not just today)\r\n      let totalDevotees = 0;\r\n      if (allDonationsRes.status === 'fulfilled' && allDonationsRes.value.data) {\r\n        const uniqueDevotees = new Set();\r\n        allDonationsRes.value.data.forEach(d => {\r\n          if (d.devotee && d.devotee.phone) {\r\n            uniqueDevotees.add(d.devotee.phone);\r\n          } else if (d.devotee_phone) {\r\n            uniqueDevotees.add(d.devotee_phone);\r\n          }\r\n        });\r\n        totalDevotees = uniqueDevotees.size;\r\n      }\r\n      // Fallback: try to get from devotees API if available\r\n      if (totalDevotees === 0 && devoteesRes.status === 'fulfilled' && devoteesRes.value.data) {\r\n        totalDevotees = Array.isArray(devoteesRes.value.data) ? devoteesRes.value.data.length : 0;\r\n      }\r\n\r\n      // Fetch panchang settings and data\r\n      let panchangSettings = null;\r\n      let panchangData = null;\r\n      \r\n      if (panchangSettingsRes.status === 'fulfilled' && panchangSettingsRes.value.data) {\r\n        panchangSettings = panchangSettingsRes.value.data;\r\n      }\r\n      \r\n      if (panchangDataRes.status === 'fulfilled' && panchangDataRes.value.data) {\r\n        panchangData = panchangDataRes.value.data;\r\n      }\r\n      \r\n      // Set panchang data (merge settings if available)\r\n      if (panchangData) {\r\n        setPanchangData({\r\n          ...panchangData,\r\n          ...(panchangSettings || {})  // Settings override for display preferences\r\n        });\r\n      } else if (panchangSettings) {\r\n        setPanchangData(panchangSettings);\r\n      }\r\n\r\n      setStats({\r\n        todayDonations,\r\n        totalDevotees,\r\n        sevaBookings: 0,\r\n        monthDonations: 0,\r\n      });\r\n    } catch (err) {\r\n      console.error('Error fetching dashboard data:', err);\r\n      setStats({\r\n        todayDonations: 8500,\r\n        totalDevotees: 0,\r\n        sevaBookings: 0,\r\n        monthDonations: 0,\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      setCategories([\r\n        'General Donation',\r\n        'Annadanam',\r\n        'Construction Fund',\r\n        'Gold/Silver Donation',\r\n        'Corpus Fund'\r\n      ]);\r\n    } catch (err) {\r\n      console.error('Error fetching categories:', err);\r\n    }\r\n  };\r\n\r\n  const handleDonationChange = (field, value) => {\r\n    setDonationForm({ ...donationForm, [field]: value });\r\n    \r\n    // Auto-fill City and State when PIN code is entered (6 digits)\r\n    if (field === 'pincode' && value.length === 6) {\r\n      fetchPincodeDetails(value);\r\n    } else if (field === 'pincode' && value.length < 6) {\r\n      // Clear city and state if PIN code is incomplete\r\n      setDonationForm(prev => ({ ...prev, city: '', state: '' }));\r\n    }\r\n  };\r\n\r\n  const fetchPincodeDetails = async (pincode) => {\r\n    if (!pincode || pincode.length !== 6) return;\r\n    \r\n    try {\r\n      setPincodeLoading(true);\r\n      // Using Indian Postal PIN code API\r\n      const response = await fetch(`https://api.postalpincode.in/pincode/${pincode}`);\r\n      const data = await response.json();\r\n      \r\n      if (data && data[0] && data[0].Status === 'Success' && data[0].PostOffice && data[0].PostOffice.length > 0) {\r\n        const postOffice = data[0].PostOffice[0];\r\n        setDonationForm(prev => ({\r\n          ...prev,\r\n          city: postOffice.District || postOffice.Name || '',\r\n          state: postOffice.State || '',\r\n        }));\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching PIN code details:', err);\r\n      // Don't show error to user, just silently fail\r\n    } finally {\r\n      setPincodeLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDonationSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSaving(true);\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    try {\r\n      const response = await api.post('/api/v1/donations/', {\r\n        devotee_name: donationForm.devotee_name,\r\n        devotee_phone: donationForm.devotee_phone,\r\n        amount: parseFloat(donationForm.amount),\r\n        category: donationForm.category,\r\n        payment_mode: donationForm.payment_mode,\r\n        address: donationForm.address || null,\r\n        pincode: donationForm.pincode || null,\r\n        city: donationForm.city || null,\r\n        state: donationForm.state || null,\r\n        country: donationForm.country || 'India',\r\n      });\r\n\r\n      setSuccess('Donation recorded successfully!');\r\n      setDonationForm({\r\n        devotee_name: '',\r\n        devotee_phone: '',\r\n        amount: '',\r\n        category: '',\r\n        payment_mode: 'Cash',\r\n        address: '',\r\n        pincode: '',\r\n        city: '',\r\n        state: '',\r\n        country: 'India',\r\n      });\r\n      fetchDashboardData();\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (err) {\r\n      console.error('Donation error:', err);\r\n      if (err.response?.status === 404) {\r\n        setError('API endpoint not found. Please ensure the backend server is running on http://localhost:8000');\r\n      } else if (err.response?.status === 500) {\r\n        setError('Server error. Please check backend logs.');\r\n      } else if (err.response?.data?.detail) {\r\n        setError(err.response.data.detail);\r\n      } else if (err.message) {\r\n        setError(err.message);\r\n      } else {\r\n        setError('Error recording donation. Please try again.');\r\n      }\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      maximumFractionDigits: 0,\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatTime = (timeString) => {\r\n    if (!timeString) return 'N/A';\r\n    const date = new Date(timeString);\r\n    return date.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const paymentModes = ['Cash', 'Card', 'UPI', 'Cheque', 'Online'];\r\n\r\n  const statCards = [\r\n    { \r\n      title: 'Today\\'s Donations', \r\n      value: formatCurrency(stats.todayDonations), \r\n      icon: <AccountBalanceIcon />, \r\n      color: '#4CAF50' \r\n    },\r\n    { \r\n      title: 'Total Devotees', \r\n      value: stats.totalDevotees.toLocaleString(), \r\n      icon: <PeopleIcon />, \r\n      color: '#2196F3' \r\n    },\r\n    { \r\n      title: 'Seva Bookings', \r\n      value: stats.sevaBookings.toString(), \r\n      icon: <EventIcon />, \r\n      color: '#FF9800' \r\n    },\r\n    { \r\n      title: 'This Month', \r\n      value: formatCurrency(stats.monthDonations), \r\n      icon: <DashboardIcon />, \r\n      color: '#9C27B0' \r\n    },\r\n  ];\r\n\r\n  if (loading) {\r\n    return (\r\n      <Layout>\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '400px' }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ mb: 4, fontWeight: 'bold' }}>\r\n        Dashboard\r\n      </Typography>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError('')}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {success && (\r\n        <Alert severity=\"success\" sx={{ mb: 3 }} onClose={() => setSuccess('')}>\r\n          {success}\r\n        </Alert>\r\n      )}\r\n\r\n      <Grid container spacing={3}>\r\n        {statCards.map((stat, index) => (\r\n          <Grid item xs={12} sm={6} md={3} key={index}>\r\n            <Card sx={{ height: '100%', boxShadow: 2 }}>\r\n              <CardContent>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                  <Box sx={{ color: stat.color, mr: 2, fontSize: 40 }}>\r\n                    {stat.icon}\r\n                  </Box>\r\n                  <Box>\r\n                    <Typography variant=\"h4\" component=\"div\" sx={{ fontWeight: 'bold' }}>\r\n                      {stat.value}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      {stat.title}\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n\r\n      <Grid container spacing={3} sx={{ mt: 2 }}>\r\n        {/* Donation Entry Form */}\r\n        <Grid item xs={12} md={6}>\r\n          <Paper sx={{ p: 3, boxShadow: 2 }}>\r\n            <Typography variant=\"h6\" gutterBottom sx={{ fontWeight: 'bold', mb: 3 }}>\r\n              Quick Donation Entry\r\n            </Typography>\r\n            <Box component=\"form\" onSubmit={handleDonationSubmit}>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Devotee Name\"\r\n                    value={donationForm.devotee_name}\r\n                    onChange={(e) => handleDonationChange('devotee_name', e.target.value)}\r\n                    required\r\n                    size=\"small\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Phone Number\"\r\n                    value={donationForm.devotee_phone}\r\n                    onChange={(e) => handleDonationChange('devotee_phone', e.target.value)}\r\n                    required\r\n                    size=\"small\"\r\n                    inputProps={{ maxLength: 10 }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Amount (₹)\"\r\n                    type=\"number\"\r\n                    value={donationForm.amount}\r\n                    onChange={(e) => handleDonationChange('amount', e.target.value)}\r\n                    required\r\n                    size=\"small\"\r\n                    inputProps={{ min: 1, step: 0.01 }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Street Address (Optional)\"\r\n                    placeholder=\"House/Flat No., Building, Street, Area\"\r\n                    value={donationForm.address}\r\n                    onChange={(e) => handleDonationChange('address', e.target.value)}\r\n                    size=\"small\"\r\n                    multiline\r\n                    rows={2}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"PIN Code\"\r\n                    placeholder=\"6 digit PIN code\"\r\n                    value={donationForm.pincode}\r\n                    onChange={(e) => {\r\n                      const value = e.target.value.replace(/\\D/g, '').slice(0, 6);\r\n                      handleDonationChange('pincode', value);\r\n                    }}\r\n                    size=\"small\"\r\n                    inputProps={{ maxLength: 6 }}\r\n                    InputProps={{\r\n                      endAdornment: pincodeLoading && (\r\n                        <InputAdornment position=\"end\">\r\n                          <CircularProgress size={20} />\r\n                        </InputAdornment>\r\n                      )\r\n                    }}\r\n                    helperText={donationForm.pincode.length === 6 ? \"City & State will auto-fill\" : \"\"}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"City\"\r\n                    placeholder=\"City\"\r\n                    value={donationForm.city}\r\n                    onChange={(e) => handleDonationChange('city', e.target.value)}\r\n                    size=\"small\"\r\n                    disabled={pincodeLoading}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"State\"\r\n                    placeholder=\"State\"\r\n                    value={donationForm.state}\r\n                    onChange={(e) => handleDonationChange('state', e.target.value)}\r\n                    size=\"small\"\r\n                    disabled={pincodeLoading}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Country\"\r\n                    placeholder=\"Country\"\r\n                    value={donationForm.country}\r\n                    onChange={(e) => handleDonationChange('country', e.target.value)}\r\n                    size=\"small\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    select\r\n                    label=\"Category\"\r\n                    value={donationForm.category}\r\n                    onChange={(e) => handleDonationChange('category', e.target.value)}\r\n                    required\r\n                    size=\"small\"\r\n                  >\r\n                    {categories.map((cat) => (\r\n                      <MenuItem key={cat} value={cat}>\r\n                        {cat}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </TextField>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    select\r\n                    label=\"Payment Mode\"\r\n                    value={donationForm.payment_mode}\r\n                    onChange={(e) => handleDonationChange('payment_mode', e.target.value)}\r\n                    required\r\n                    size=\"small\"\r\n                  >\r\n                    {paymentModes.map((mode) => (\r\n                      <MenuItem key={mode} value={mode}>\r\n                        {mode}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </TextField>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    fullWidth\r\n                    startIcon={saving ? <CircularProgress size={20} /> : <SaveIcon />}\r\n                    disabled={saving}\r\n                    size=\"large\"\r\n                  >\r\n                    {saving ? 'Saving...' : 'Record Donation'}\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n\r\n        {/* Panchang Display */}\r\n        <Grid item xs={12} md={6}>\r\n          <PanchangDisplay \r\n            data={panchangData} \r\n            settings={panchangData}\r\n            compact={true}\r\n          />\r\n          <Button\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            size=\"small\"\r\n            sx={{ mt: 2 }}\r\n            onClick={() => navigate('/panchang')}\r\n          >\r\n            View Full Panchang →\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}